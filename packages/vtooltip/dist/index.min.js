"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=require("popper.js/dist/umd/popper.js"),n={name:"WeopsGlobalTooltip",mixins:[{props:{placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:Object,popper:Object,offset:{default:0},value:{type:Boolean,default:!1},transition:String,options:{type:Object,default:function(){return{modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}}}}}},data:function(){return{visible:this.value}},watch:{value:{immediate:!0,handler:function(e){this.visible=e,this.$emit("input",e)}},visible:function(e){e?(this.handleIndexIncrease&&this.handleIndexIncrease(),this.updatePopper(),this.$emit("on-popper-show")):this.$emit("on-popper-hide"),this.$emit("input",e)}},methods:{createPopper:function(){var e=this;if(/^(top|bottom|left|right)(-start|-end)?$/g.test(this.placement)){var t=this.options,n=this.popper||this.$refs.popper,r=this.reference||this.$refs.reference;n&&r&&(this.popperJS&&this.popperJS.hasOwnProperty("destroy")&&this.popperJS.destroy(),t.placement=this.placement,t.modifiers.offset||(t.modifiers.offset={}),t.modifiers.offset.offset=this.offset,t.onCreate=function(){e.$nextTick(e.updatePopper),e.$emit("created",e)},this.popperJS=new o(r,n,t))}},updatePopper:function(){this.popperJS?this.popperJS.update():this.createPopper()},doDestroy:function(){this.visible||(this.popperJS.destroy(),this.popperJS=null)}},updated:function(){var e=this;this.$nextTick((function(){return e.updatePopper()}))},beforeDestroy:function(){this.popperJS&&this.popperJS.destroy()}}],components:{Render:{functional:!0,props:{render:[Function,String]},render:function(e,t){return"function"==typeof t.props.render?t.props.render(e):t.children}}},props:{placement:String,theme:{type:String,default:"dark"}},data:function(){return{content:"",popperEle:null,render:""}},computed:{tooltipPopperCls:function(){return["weops-tooltip-popper","weops-tooltip-popper-".concat(this.theme)]},contentStyle:function(){return Number(this.zIndex)?{"z-index":Number(this.zIndex)}:{}}},methods:{onMouseEnter:function(e){this.popperJS&&this.doDestroy(),this.reference=e,this.onMouseEnterPopper()},onMouseEnterPopper:function(){this.value=!0},onMouseLeave:function(){this.value=!1}}};function r(e,t,o,n,r,i,p,s,a,l){"boolean"!=typeof p&&(a=s,s=p,p=!1);const d="function"==typeof o?o.options:o;let u;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),n&&(d._scopeId=n),i?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,a(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=u):t&&(u=p?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),u)if(d.functional){const e=d.render;d.render=function(t,o){return u.call(o),e(t,o)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,u):[u]}return o}!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===o&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".weops-tooltip-popper[data-v-4e704929]{max-width:50%}.weops-tooltip-popper[x-placement^=top] .weops-tooltip-arrow[data-v-4e704929]{bottom:3px;left:50%;margin-left:-5px;border-width:5px 5px 0}.weops-tooltip-popper[x-placement^=bottom] .weops-tooltip-arrow[data-v-4e704929]{top:3px;left:50%;margin-left:-5px;border-width:0 5px 5px}.weops-tooltip-popper[x-placement^=left] .weops-tooltip-arrow[data-v-4e704929]{right:3px;top:50%;margin-top:-5px;border-width:5px 0 5px 5px}.weops-tooltip-popper[x-placement^=right] .weops-tooltip-arrow[data-v-4e704929]{left:3px;top:50%;margin-top:-5px;border-width:5px 5px 5px 0}.weops-tooltip-content[data-v-4e704929]{position:relative;padding:8px;z-index:1000}.weops-tooltip-arrow[data-v-4e704929]{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.weops-tooltip-inner[data-v-4e704929]{min-height:22px;padding:8px 12px;text-align:left;text-decoration:none;border-radius:4px;box-shadow:0 1px 6px rgba(0,0,0,.2)}.weops-tooltip-popper-dark.weops-tooltip-popper[x-placement^=top] .weops-tooltip-arrow[data-v-4e704929]{border-top-color:rgba(70,76,91,.9)}.weops-tooltip-popper-dark.weops-tooltip-popper[x-placement^=bottom] .weops-tooltip-arrow[data-v-4e704929]{border-bottom-color:rgba(70,76,91,.9)}.weops-tooltip-popper-dark.weops-tooltip-popper[x-placement^=left] .weops-tooltip-arrow[data-v-4e704929]{border-left-color:rgba(70,76,91,.9)}.weops-tooltip-popper-dark.weops-tooltip-popper[x-placement^=right] .weops-tooltip-arrow[data-v-4e704929]{border-right-color:rgba(70,76,91,.9)}.weops-tooltip-popper-dark .weops-tooltip-inner[data-v-4e704929]{color:#fff;background-color:rgba(70,76,91,.9)}.weops-tooltip-popper-light.weops-tooltip-popper[x-placement^=top] .weops-tooltip-arrow[data-v-4e704929]{border-top-color:#fff}.weops-tooltip-popper-light.weops-tooltip-popper[x-placement^=bottom] .weops-tooltip-arrow[data-v-4e704929]{border-bottom-color:#fff}.weops-tooltip-popper-light.weops-tooltip-popper[x-placement^=left] .weops-tooltip-arrow[data-v-4e704929]{border-left-color:#fff}.weops-tooltip-popper-light.weops-tooltip-popper[x-placement^=right] .weops-tooltip-arrow[data-v-4e704929]{border-right-color:#fff}.weops-tooltip-popper-light .weops-tooltip-inner[data-v-4e704929]{color:initial;background-color:#fff}");var i=r({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"popper",class:e.tooltipPopperCls,on:{mouseenter:e.onMouseEnterPopper,mouseleave:e.onMouseLeave}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"weops-tooltip-content",style:e.contentStyle},[o("div",{staticClass:"weops-tooltip-arrow"}),e._v(" "),o("div",{staticClass:"weops-tooltip-inner"},[o("Render",{attrs:{render:e.render}},[o("span",{domProps:{innerHTML:e._s(e.content)}})])],1)])])},staticRenderFns:[]},void 0,n,"data-v-4e704929",!1,void 0,!1,void 0,void 0,void 0),p=null;var s=["top","bottom","right","left"],a=function(){function e(t){var o=t.Vue,n=t.options,r=t.el,a=t.binding;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=function(e,t){if(p)return p;var o=e.extend(i),n=document.createElement("div");return document.getElementsByTagName("body")[0].appendChild(n),p=new o({el:n,data:{zIndex:t.zIndex}})}(o,n),this.el=r,this.binding=a,this.title="";var l=this.binding.modifiers;this.placement=s.find((function(e){return l[e]}))||"top",this.theme=l.light?"light":"dark"}var o,n,r;return o=e,(n=[{key:"onMouseEnter",value:function(e){e.stopPropagation();var t=this.binding,o=t.modifiers,n=t.value;d(n)?(o.force||function(e){var t=window.getComputedStyle(e);if("hidden"===t.getPropertyValue("overflow")){var o=t.getPropertyValue("display"),n=t.getPropertyValue("-webkit-box-orient")||t.getPropertyValue("-moz-box-orient")||t.getPropertyValue("-ms-box-orient")||t.getPropertyValue("-o-box-orient")||t.getPropertyValue("box-orient");return["-webkit-box","-moz-box","-ms-box","-o-box","box"].includes(o)&&"vertical"===n?function(e){return e.offsetHeight<e.scrollHeight}(e):function(e){return e.offsetWidth<e.scrollWidth}(e)}}(this.el))&&this.handleTitle():this.handleValue(n)}},{key:"onMouseLeave",value:function(e){e.stopPropagation(),this.title&&(this.el.setAttribute("title",this.title),this.title=""),this.instance.onMouseLeave()}},{key:"handleValue",value:function(e){if("[object Object]"===Object.prototype.toString.call(e)){var t=e.render;"function"==typeof t&&this.renderFunction(t)}else this.renderText(e)}},{key:"handleTitle",value:function(){var e=this.el.getAttribute("title");e?(this.renderText(e),this.title=e,this.el.removeAttribute("title")):this.renderText(this.el.innerText)}},{key:"renderText",value:function(e){d(e)||(this.instance.content=e,this.instance.render="",this.renderTooltip())}},{key:"renderFunction",value:function(e){d(e)||"function"!=typeof e||(this.instance.render=e,this.instance.content="",this.renderTooltip())}},{key:"renderTooltip",value:function(){var e=this.instance;e.placement=this.placement,e.theme=this.theme,e.onMouseEnter(this.el)}},{key:"updateBinding",value:function(e){this.binding=e}}])&&t(o.prototype,n),r&&t(o,r),e}(),l={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.directive("tooltip",{bind:function(o,n){var r=o._popper=new a({Vue:e,options:t,el:o,binding:n});o._mouseenterHandler=r.onMouseEnter.bind(r),o._mouseleaveHandler=r.onMouseLeave.bind(r),o.addEventListener("mouseenter",o._mouseenterHandler),o.addEventListener("mouseleave",o._mouseleaveHandler)},componentUpdated:function(e,t){e._popper&&e._popper.updateBinding(t)},unbind:function(e){e.removeEventListener("mouseenter",e._mouseenterHandler),e.removeEventListener("mouseleave",e._mouseleaveHandler),e._popper=null}})}};function d(t){var o=e(t);return"undefined"===o||"number"===o&&isNaN(t)||null===t||"string"==typeof t&&!t}module.exports=l;
